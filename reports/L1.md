# Введение {-}

## Постановка задачи {-}

1. Сформировать случайным образом связный ациклический граф, степени вершин которого подчиняются
   распределению Пойя 1 (параметры распределения задаются как константы),
   с необходимым количеством вершин.
   <!-- Распределение лучше всего брать из справочника Вадзинского (есть в списке литературы). -->
2. Реализовать метод Шимбелла на полученном графе
   (пользователь вводит количество ребер).
3. Определить возможность построения маршрута от одной заданной точки до другой
   (вершины вводит пользователь) и указывать количество таковых маршрутов.

# Математическое описание

Графом $G(V,E)$ называется совокупность двух множеств —
непустого множества $V$ (множества _вершин_) и множества
$E$ двухэлементных подмножеств множества $V$ ($E$ — множество _рёбер_),
\begin{gather*}
G(V, E) ≝ ⟨V;E⟩,\\ V ≠ ∅,\\ E ⊂ 2^V ∧ ∀e ∈ E (|e| = 2).
\end{gather*}

Число вершин графа $G$ обозначим $p$, а число рёбер — $q$:
\begin{gather*}
p ≝ p(G) ≝ |V|,\\
q ≝ q(G) ≝ |E|.
\end{gather*}

## Связность

_Маршрутом_ в графе называется чередующаяся последовательность вершин и рёбер,
начинающаяся и кончающаяся вершиной, $v_0, e_1, v_1, e_2, v_2,\dotsc, e_k, v_k$, в которой
любые два соседних элемента инцидентны, причём однородные элементы (вершины,
рёбра) через один смежны или совпадают.

Если $v_0 = v_k$, то маршрут _замкнут_, иначе — _открыт_. Если все рёбра различны,
то маршрут называется _цепью_. Если все вершины (а значит, и рёбра) различны,
то маршрут называется _простой цепью_.

Говорят, что две вершины в графе _связаны_, если
существует соединяющая их (простая) цепь. Граф, в
котором все вершины связаны, называется _связным_.

Отношение связанности вершин является эквивалентностью.
Классы эквивалентности по отношению связанности называются _компонентами связности_ графа.

Число компонентов связности графа $G$ обозначается
$k(G)$.

Граф $G$ связный $⟺ k(G) = 1$.

Если $k(G) > 1$, то $G$ — _несвязный_ граф.

Замкнутая цепь называется _циклом_; замкнутая простая цепь называется _простым
циклом_. Число циклов в графе $G$ обозначается $z(G)$. Граф без циклов называется
ациклическим ($z(G) = 0$).

## Метод Шимбелла

Данный метод предназначен для определения минимальных (максимальных) расстояний между всеми парами вершин взвешенного графа и учитывает число ребер, входящих в соответствующие простые цепи. Для этого нужно определить специальные математические операции:

1. Операция умножения двух величин $a$ и $b$, при возведении матрицы в степень соответствует их алгебраической сумме: 

	$$ \begin{cases}
   	a ⋅ b = b ⋅ a → a+b = b+a\\
   	a ⋅ 0 = 0 ⋅ a = 0 → a+0 = 0+a = 0
 	\end{cases}
	$$

2. Операция сложения двух величин заменяетя поиском минимального (максимального) элемента:
	$$ a+b=b+a → \begin{matrix}
	\min \\ (\max)	
	\end{matrix}\ \{a, b\}
	$$ 

Минимальный или максимальный элемент выбирается из ненулевых элементов. Нуль в результате этой операции может быть получен лишь тогда, когда все элементы из выбираемых - нулевые. С помощью этих операций длины минимальных или максимальных путей определяются возведением в степень матрицы весов заданного графа. Степень зависит от того через какое количество ребер проходит маршрут. То есть, при степени 2 длина пути между вершинами равна 2.

<!-- Описание алгоритма взято из книги \cite{lit2} -->

## Распределение Пойа 1

Примем как обозначение $∏\limits_{k=0}^{-1} f(k) = 1$ (как произведение пустого множества элементов).

Ряд распределения 
$$ p(x) = C_n^x \frac {∏\limits_{k=0}^{x-1} (b+kc) ∏\limits_{k=0}^{n-x-1} (r+kc)} {∏\limits_{k=0}^{n-1}(b + r + kc)},
\ x=0,1,2,\dotsc, n.
$$	

В частности,
$$
p(0) = ∏_{k=0}^{n-1} \frac {r + kc}
         {b + r + kc},
\quad
p(n) = ∏_{k=0}^{n-1} \frac {b + kc}
         {b + r + kc},
$$

где $n>0$, $b>0$, $r>0$, $c ∈ ℤ$. Параметр $c$ может быть отрицательным, однако он должен удовлетворять условию
$b+r+c(n-1)>0$.

```cpp
// b,r,c,n
p = p_0
r = rand
for (x = 0; x < n - 1; x++) {
	r = r - p
	if (r < 0) {
		return x
	}
	p = p α(x)
}
return n;
```

# Особенности реализации

# Результаты работы программы

# Заключение {-}